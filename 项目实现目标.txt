基于您最近的指示，您对项目的最新完整要求表述如下：

**核心目标：实现对话式 RAG (Conversational RAG)**

即不再依赖外部文档（如PDF），而是**将整个对话历史视为一个可检索的知识库（长期记忆）**。

**具体执行逻辑：**
1.  [cite_start]**全量历史向量化**：将所有的对话记录（用户提问和助手回答）作为外部知识进行存储和向量化 [cite: 2]。
2.  [cite_start]**语义相似度检索**：在每次用户提问后，计算当前问题与历史记录的相似度 [cite: 2]。
3.  [cite_start]**阈值过滤**：当相似度超过特定阈值后，将那些相关的历史记录（即使是很多轮之前的）提取出来 [cite: 2]。
4.  **注入上下文**：将检索到的相关历史作为“外部知识”注入到当前的 Prompt 中。

**旨在解决的问题：**
[cite_start]克服 LLM 有限上下文窗口的限制，从而在对话中实现**长期的上下文一致性**（例如：确保第一轮对话的结果可以在经历很多轮对话后依然被精准回忆起来）[cite: 2]。